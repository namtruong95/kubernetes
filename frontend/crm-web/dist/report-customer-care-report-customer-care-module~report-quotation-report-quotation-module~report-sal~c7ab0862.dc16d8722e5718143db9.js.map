{"version":3,"sources":["webpack:///./node_modules/file-saver/FileSaver.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/app/dbr/report/report-filter/report-filter.component.html","webpack:///./src/app/dbr/report/report-filter/report-filter.component.scss","webpack:///./src/app/dbr/report/report-filter/report-filter.component.ts","webpack:///./src/app/dbr/report/report-filter/report-filter.module.ts","webpack:///./src/shared/services/branch.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,KAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,GAAG,yBAAyB;AAC7G;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA,GAAG;AAAA;AACH;;;;;;;;;;;;AC3LA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;;;;;;;;;;;;;ACDA,2UAA2U,yCAAyC,ssBAAssB,uCAAuC,yjE;;;;;;;;;;;ACAjmC,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAwE;AACR;AAC/B;AAC2B;AAEb;AACgB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","file":"report-customer-care-report-customer-care-module~report-quotation-report-quotation-module~report-sal~c7ab0862.dc16d8722e5718143db9.js","sourcesContent":["/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n","module.exports = \"<form novalidate class=\\\"pt-2\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-lg-3 col-md-6 form-group\\\">\\n      <label for=\\\"FromDate\\\">From Date</label>\\n      <div class=\\\"input-group\\\">\\n        <input type=\\\"text\\\" name=\\\"dateStart\\\" id=\\\"FromDate\\\"\\n          class=\\\"form-control\\\"\\n          [ngClass]=\\\"{ 'border-right-0': filterTerm.dateStart }\\\"\\n          readonly\\n          bsDatepicker\\n          placeholder=\\\"please select start date\\\"\\n          [(bsValue)]=\\\"filterTerm.dateStart\\\"\\n          [bsConfig]=\\\"DATEPICKER_CONFIG\\\">\\n\\n        <div class=\\\"input-group-append\\\" *ngIf=\\\"filterTerm.dateStart\\\">\\n          <span class=\\\"input-group-text bg--white\\\">\\b<i class=\\\"fa fa-times cursor-pointer\\\" (click)=\\\"filterTerm.dateStart = null\\\"></i></span>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-3 col-md-6 form-group\\\">\\n      <label for=\\\"ToDate\\\">To Date</label>\\n      <div class=\\\"input-group\\\">\\n        <input type=\\\"text\\\" name=\\\"dateEnd\\\" id=\\\"ToDate\\\"\\n          class=\\\"form-control\\\"\\n          [ngClass]=\\\"{ 'border-right-0': filterTerm.dateEnd }\\\"\\n          readonly\\n          bsDatepicker\\n          placeholder=\\\"please select end date\\\"\\n          [(bsValue)]=\\\"filterTerm.dateEnd\\\"\\n          [bsConfig]=\\\"DATEPICKER_CONFIG\\\">\\n\\n        <div class=\\\"input-group-append\\\" *ngIf=\\\"filterTerm.dateEnd\\\">\\n          <span class=\\\"input-group-text bg--white\\\">\\b<i class=\\\"fa fa-times cursor-pointer\\\" (click)=\\\"filterTerm.dateEnd = null\\\"></i></span>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-3 col-md-6\\\" *ngIf=\\\"roleAccess\\\">\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"Region\\\">Branch</label>\\n        <ng-select\\n          [items]=\\\"branches\\\"\\n          class=\\\"text-left\\\"\\n          [closeOnSelect]=\\\"true\\\"\\n          [clearable]=\\\"true\\\"\\n          [loading]=\\\"isLoadingBranch\\\"\\n          placeholder=\\\"please select region\\\"\\n          [searchable]=\\\"false\\\"\\n          name=\\\"branches\\\"\\n          [(ngModel)]=\\\"filterTerm.branchId\\\"\\n          (ngModelChange)=\\\"changeBranch()\\\"\\n          #Region=\\\"ngModel\\\"\\n          bindLabel=\\\"name\\\"\\n          bindValue=\\\"id\\\">\\n        </ng-select>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col-lg-3 col-md-6 form-group\\\" *ngIf=\\\"roleAccessStaff\\\">\\n      <label for=\\\"Name\\\">Staff</label>\\n      <ng-select\\n        [items]=\\\"staffs\\\"\\n        class=\\\"text-left\\\"\\n        [closeOnSelect]=\\\"true\\\"\\n        [clearable]=\\\"true\\\"\\n        [loading]=\\\"isLoadingStaff\\\"\\n        placeholder=\\\"please select staff\\\"\\n        [searchable]=\\\"true\\\"\\n        name=\\\"assignedStaff\\\"\\n        [(ngModel)]=\\\"filterTerm.assignedStaff\\\"\\n        bindLabel=\\\"code_full_name\\\">\\n      </ng-select>\\n    </div>\\n\\n    <div class=\\\"col-12 form-group report-filter__btn\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary mr-2\\\"\\n        (click)=\\\"exportReport()\\\">\\n        <i class=\\\"fa fa-download mr-2\\\"></i>\\n        Export\\n      </button>\\n\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary mr-2\\\"\\n        (click)=\\\"previewReport()\\\">\\n        <i class=\\\"fa fa-search mr-2\\\"></i>\\n        Preview\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n\"","module.exports = \"\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { DATEPICKER_CONFIG } from 'constants/datepicker-config';\nimport * as moment from 'moment';\nimport { NotifyService } from 'shared/utils/notify.service';\nimport { Branch } from 'models/branch';\nimport { RoleService } from 'app/role.service';\nimport { BranchService } from 'shared/services/branch.service';\nimport { User } from 'models/user';\nimport { UserService } from 'shared/services/user.service';\n\n@Component({\n  selector: 'app-report-filter',\n  templateUrl: './report-filter.component.html',\n  styleUrls: ['./report-filter.component.scss'],\n})\nexport class ReportFilterComponent implements OnInit {\n  @Output()\n  changeFilter: EventEmitter<any> = new EventEmitter<any>();\n  @Output()\n  changeTermPreviewReport: EventEmitter<any> = new EventEmitter<any>();\n\n  public filterTerm = {\n    dateStart: null,\n    dateEnd: null,\n    branchId: null,\n    assignedStaff: null,\n  };\n\n  public get isEndAfterFrom(): boolean {\n    return (\n      !!this.filterTerm.dateStart &&\n      !!this.filterTerm.dateEnd &&\n      moment(this.filterTerm.dateEnd).isBefore(moment(this.filterTerm.dateStart))\n    );\n  }\n\n  public DATEPICKER_CONFIG = DATEPICKER_CONFIG;\n\n  // branches\n  public branches: Branch[] = [];\n  public isLoadingBranch = false;\n\n  // staffs\n  public staffs: User[] = [];\n  public isLoadingStaff = false;\n\n  get roleAccess(): boolean {\n    return this._role.is_admin || this._role.is_sale_director;\n  }\n\n  get roleAccessStaff(): boolean {\n    return this.roleAccess || this._role.is_branch_director;\n  }\n\n  constructor(\n    private _notify: NotifyService,\n    private _role: RoleService,\n    private _branchSv: BranchService,\n    private _userSv: UserService,\n  ) {}\n\n  ngOnInit() {\n    this._getBranchList();\n    this._getStaffs();\n    this.previewReport();\n  }\n\n  private _getBranchList() {\n    if (this.roleAccess) {\n      this.isLoadingBranch = true;\n      this._branchSv.getBranchList().subscribe(\n        (res) => {\n          this.branches = res.branches;\n          this.isLoadingBranch = false;\n        },\n        (errors) => {\n          this.isLoadingBranch = false;\n          this._notify.error(errors);\n        },\n      );\n    }\n  }\n\n  changeBranch() {\n    this._getStaffs();\n  }\n\n  private _getStaffs() {\n    if (this.roleAccessStaff) {\n      this.isLoadingStaff = true;\n      const opts: any = {};\n\n      if (this.filterTerm.branchId) {\n        opts.branchId = this.filterTerm.branchId;\n      }\n\n      this._userSv.getAllUsers(opts).subscribe(\n        (res) => {\n          this.staffs = res;\n          this.isLoadingStaff = false;\n        },\n        (errors) => {\n          this.isLoadingStaff = false;\n          this._notify.error(errors);\n        },\n      );\n    }\n  }\n\n  private _filterTermToJSON() {\n    const params: any = {};\n\n    if (this.filterTerm.dateStart) {\n      params.dateFrom = moment(this.filterTerm.dateStart).format('YYYY-MM-DD');\n    }\n    if (this.filterTerm.dateEnd) {\n      params.dateTo = moment(this.filterTerm.dateEnd).format('YYYY-MM-DD');\n    }\n    if (this.filterTerm.assignedStaff) {\n      params.assignedStaffId = this.filterTerm.assignedStaff.id;\n    }\n    if (this.filterTerm.branchId) {\n      params.branchId = this.filterTerm.branchId;\n    }\n\n    return params;\n  }\n\n  public exportReport() {\n    if (this.isEndAfterFrom) {\n      this._notify.warning('Please select the end time after the start time');\n      return;\n    }\n\n    this.changeFilter.emit(this._filterTermToJSON());\n  }\n\n  public previewReport() {\n    if (this.isEndAfterFrom) {\n      this._notify.warning('Please select the end time after the start time');\n      return;\n    }\n\n    this.changeTermPreviewReport.emit(this._filterTermToJSON());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReportFilterComponent } from './report-filter.component';\nimport { FormsModule } from '@angular/forms';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\nimport { NgSelectModule } from '@ng-select/ng-select';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, BsDatepickerModule.forRoot(), NgSelectModule],\n  declarations: [ReportFilterComponent],\n  exports: [ReportFilterComponent],\n})\nexport class ReportFilterModule {}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from './api.service';\nimport { Branch } from 'models/branch';\nimport { Township } from 'models/township';\nimport { District } from 'models/district';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class BranchService {\n  constructor(private _api: ApiService) {}\n\n  public getBranchList(opts?: any) {\n    return this._api.get(`branch`, opts).map((res) => {\n      res.data.branches = res.data.branches.map((item) => new Branch().deserialize(item));\n      return res.data;\n    });\n  }\n\n  public getDistrictList(opts?: any) {\n    return this._api.get(`district`, opts).map((res) => {\n      res.data.districts = res.data.districts.map((item) => new District().deserialize(item));\n      return res.data;\n    });\n  }\n\n  public getTownshipList(opts?: any) {\n    return this._api.get('township', opts).map((res) => {\n      res.data.townships = res.data.townships.map((item) => new Township().deserialize(item));\n\n      return res.data;\n    });\n  }\n}\n"],"sourceRoot":""}